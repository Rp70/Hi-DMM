create_bd_design "design_1"
update_compile_order -fileset sources_1
set_property  ip_repo_paths  /home/tingyuan/Temporary/vivado-outputs [current_project]
update_ip_catalog -rebuild
create_bd_cell -type ip -vlnv xilinx.com:hls:HLS_MAXHEAP_HTA HLS_MAXHEAP_HTA_dmm_0

create_bd_cell -type ip -vlnv xilinx.com:hls:KWTA_mini16_theta KWTA_mini16_theta_0
connect_bd_net [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_0_KWTA_mini16_cmd] [get_bd_pins KWTA_mini16_theta_0/alloc_cmd]
connect_bd_net [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_0_KWTA_mini16_free_target] [get_bd_pins KWTA_mini16_theta_0/alloc_free_target]
connect_bd_net [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_0_KWTA_mini16_size] [get_bd_pins KWTA_mini16_theta_0/alloc_size]
connect_bd_net [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_0_KWTA_mini16_size_ap_vld] [get_bd_pins KWTA_mini16_theta_0/alloc_size_ap_vld]
connect_bd_net [get_bd_pins KWTA_mini16_theta_0/alloc_free_target_ap_vld] [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_0_KWTA_mini16_free_target_ap_vld]
connect_bd_net [get_bd_pins KWTA_mini16_theta_0/alloc_addr_ap_ack] [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_0_KWTA_mini16_addr_ap_ack]
connect_bd_net [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_0_KWTA_mini16_cmd_ap_vld] [get_bd_pins KWTA_mini16_theta_0/alloc_cmd_ap_vld]
connect_bd_net [get_bd_pins KWTA_mini16_theta_0/alloc_size_ap_ack] [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_0_KWTA_mini16_size_ap_ack]
connect_bd_net [get_bd_pins KWTA_mini16_theta_0/alloc_free_target_ap_ack] [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_0_KWTA_mini16_free_target_ap_ack]
connect_bd_net [get_bd_pins KWTA_mini16_theta_0/alloc_addr_ap_vld] [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_0_KWTA_mini16_addr_ap_vld]
connect_bd_net [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_0_KWTA_mini16_cmd_ap_ack] [get_bd_pins KWTA_mini16_theta_0/alloc_cmd_ap_ack]
connect_bd_net [get_bd_pins KWTA_mini16_theta_0/alloc_addr] [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_0_KWTA_mini16_addr]

create_bd_cell -type ip -vlnv xilinx.com:hls:Ext_KWTA8k Ext_KWTA8k_1
connect_bd_net [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_1_Super_HTA8k_cmd] [get_bd_pins Ext_KWTA8k_1/alloc_cmd]
connect_bd_net [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_1_Super_HTA8k_free_target] [get_bd_pins Ext_KWTA8k_1/alloc_free_target]
connect_bd_net [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_1_Super_HTA8k_size] [get_bd_pins Ext_KWTA8k_1/alloc_size]
connect_bd_net [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_1_Super_HTA8k_size_ap_vld] [get_bd_pins Ext_KWTA8k_1/alloc_size_ap_vld]
connect_bd_net [get_bd_pins Ext_KWTA8k_1/alloc_free_target_ap_vld] [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_1_Super_HTA8k_free_target_ap_vld]
connect_bd_net [get_bd_pins Ext_KWTA8k_1/alloc_addr_ap_ack] [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_1_Super_HTA8k_addr_ap_ack]
connect_bd_net [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_1_Super_HTA8k_cmd_ap_vld] [get_bd_pins Ext_KWTA8k_1/alloc_cmd_ap_vld]
connect_bd_net [get_bd_pins Ext_KWTA8k_1/alloc_size_ap_ack] [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_1_Super_HTA8k_size_ap_ack]
connect_bd_net [get_bd_pins Ext_KWTA8k_1/alloc_free_target_ap_ack] [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_1_Super_HTA8k_free_target_ap_ack]
connect_bd_net [get_bd_pins Ext_KWTA8k_1/alloc_addr_ap_vld] [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_1_Super_HTA8k_addr_ap_vld]
connect_bd_net [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_1_Super_HTA8k_cmd_ap_ack] [get_bd_pins Ext_KWTA8k_1/alloc_cmd_ap_ack]
connect_bd_net [get_bd_pins Ext_KWTA8k_1/alloc_addr] [get_bd_pins HLS_MAXHEAP_HTA_dmm_0/Hi_DMM_allocator_1_Super_HTA8k_addr]

create_bd_cell -type ip -vlnv xilinx.com:hls:Ext_HTA Ext_KWTA8k_1_Ext_HTA_1
connect_bd_net [get_bd_pins Ext_KWTA8k_1/com_port_cmd] [get_bd_pins Ext_KWTA8k_1_Ext_HTA_1/alloc_cmd]
connect_bd_net [get_bd_pins Ext_KWTA8k_1/com_port_target_V] [get_bd_pins Ext_KWTA8k_1_Ext_HTA_1/alloc_target_V]
connect_bd_net [get_bd_pins Ext_KWTA8k_1/com_port_layer_V] [get_bd_pins Ext_KWTA8k_1_Ext_HTA_1/alloc_layer_V]
connect_bd_net [get_bd_pins Ext_KWTA8k_1/com_port_allocated_addr_V] [get_bd_pins Ext_KWTA8k_1_Ext_HTA_1/alloc_allocated_addr_V]
connect_bd_net [get_bd_pins Ext_KWTA8k_1/com_port_cmd_ap_vld] [get_bd_pins Ext_KWTA8k_1_Ext_HTA_1/alloc_cmd_ap_vld]
connect_bd_net [get_bd_pins Ext_KWTA8k_1_Ext_HTA_1/alloc_allocated_addr_V_ap_ack] [get_bd_pins Ext_KWTA8k_1/com_port_allocated_addr_V_ap_ack]
connect_bd_net [get_bd_pins Ext_KWTA8k_1/com_port_target_V_ap_vld] [get_bd_pins Ext_KWTA8k_1_Ext_HTA_1/alloc_target_V_ap_vld]
connect_bd_net [get_bd_pins Ext_KWTA8k_1/com_port_layer_V_ap_vld] [get_bd_pins Ext_KWTA8k_1_Ext_HTA_1/alloc_layer_V_ap_vld]
connect_bd_net [get_bd_pins Ext_KWTA8k_1_Ext_HTA_1/alloc_layer_V_ap_ack] [get_bd_pins Ext_KWTA8k_1/com_port_layer_V_ap_ack]
connect_bd_net [get_bd_pins Ext_KWTA8k_1_Ext_HTA_1/alloc_target_V_ap_ack] [get_bd_pins Ext_KWTA8k_1/com_port_target_V_ap_ack]
connect_bd_net [get_bd_pins Ext_KWTA8k_1/com_port_allocated_addr_V_ap_vld] [get_bd_pins Ext_KWTA8k_1_Ext_HTA_1/alloc_allocated_addr_V_ap_vld]
connect_bd_net [get_bd_pins Ext_KWTA8k_1_Ext_HTA_1/alloc_cmd_ap_ack] [get_bd_pins Ext_KWTA8k_1/com_port_cmd_ap_ack]
