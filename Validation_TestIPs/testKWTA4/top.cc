#include<cstdio>
#include<cstring>
#include<iostream>
#include<ap_int.h>
#include "ap_utils.h"
#define REQ_N 2048
static int dynamic_heap0[100],dynamic_heap1[100];

typedef struct{
int size;
int addr;
int free_target;
char cmd;
} allocator_port;

template <int unused>
volatile int HLS_malloc(int size,volatile allocator_port *allocator)
{
#pragma HLS INLINE off
	int status;
	io_section_HLS_malloc:
	{
#pragma HLS PROTOCOL fixed
		allocator->cmd = 2; //send cmd and size to allocator
#pragma HLS PROTOCOL fixed
		allocator->size = size;
		allocator->free_target = 0;
		ap_wait();
		status = allocator->addr;
		ap_wait();
		return status;
	}
}

template <int unused>
volatile int HLS_free(int free_target, int free_size, volatile allocator_port *allocator)
{
#pragma HLS INLINE off
	int status;
	io_section_HLS_free:
	{
#pragma HLS PROTOCOL fixed
		allocator->cmd = 3; //send cmd and size to allocator
#pragma HLS PROTOCOL fixed
		allocator->size = 0;
		allocator->free_target = free_target;
		ap_wait();
		return 1;
	}

}


//                    0  1 2 3 4 5 6 7 8  9 10 11 1213  14  15 16 171819  20  21  22  23  24  252627 28 29 30  31 32 33 34 35 36
int req_list[REQ_N]={     1,     1,     1,     1,     2,     0,     1,     1,     1,     1,     1,     1,     1,     3,     1,     1,     4,     5,     1,     1,     1,     1,     1,     1,     1,     1,     6,     1,     1,    15,     1,     8,     9,     1,     1,    20,     1,     1,     1,    14,     3,     1,     1,     1,     1,     1,     1,    18,     1,     1,     1,     1,     1,    31,     1,     1,    22,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,    44,     1,     1,     1,     1,     1,     1,    36,     1,     1,    53,    46,    28,     1,    11,     1,     1,    49,     1,     1,     1,     1,     1,    63,    59,     1,     1,     1,     1,    56,    27,     1,     1,    25,     1,     1,    37,    58,     1,    52,     1,    70,    39,     1,    57,    79,     1,    34,     1,     1,     1,     1,    78,     7,     1,     1,     1,     1,    76,    16,    43,     1,     1,     1,    68,     1,    19,    84,    65,    26,     1,     1,     1,     0,     1,     1,     1,     1,     1,     1,     1,     1,     1,    17,     1,    47,     1,    64,     1,     1,     1,     1,    69,     1,     1,     1,    58,    85,    97,     1,    12,     1,     4,     1,     1,     1,     1,     1,     1,    23,     5,     1,   107,    19,    73,    98,     1,     1,     1,     1,    54,     1,     1,    45,     1,    33,    60,     1,     1,     1,     1,     1,     1,     1,     1,    38,    51,   118,    32,   106,     1,    56,     1,    72,   108,     1,     1,     1,     1,     1,     1,     1,     1,     1,   122,     1,     1,     1,     1,     1,     1,     1,     1,    88,    40,     1,     1,     1,     1,     1,    57,     1,     1,     1,     1,     1,    44,     1,     1,     1,     1,     1,    17,     1,    18,     1,    47,   115,   152,     1,     1,     1,    45,     1,     1,     1,     1,     1,     1,   102,     1,   161,     1,     1,     1,   125,     1,   129,     1,     1,   155,    42,     1,     1,     1,   162,    87,     1,     1,   113,     1,     1,     1,     1,     1,     1,    71,   142,     1,     1,     1,     1,     1,     1,    59,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,   141,   168,     1,     1,   193,    70,     1,     1,   132,     1,     1,     1,    38,     1,     1,     1,     1,     1,     1,     1,     1,    13,     1,     1,     1,     1,   194,     1,     1,     1,    77,     1,     1,   138,     1,     1,     1,     1,     1,     1,    93,     1,   212,   166,     1,   171,    83,     1,   131,     1,    59,     1,     1,    14,     1,     1,     1,     1,     1,   154,     1,     1,     1,   230,     1,     1,     1,     1,     1,   156,     1,   117,   172,     1,     1,     1,     1,    29,     1,     1,     1,   149,     1,     1,     1,    79,   173,     1,    96,     1,     1,     1,   218,     1,     1,     1,     1,     1,     1,     1,     1,     1,   116,     1,     1,     1,   220,    13,   246,     1,     1,    12,   196,     1,    82,    76,     1,     1,    66,     1,     1,     1,     1,     1,   190,     1,     1,     1,     1,   233,     1,     1,   267,     1,     1,     1,   101,     1,     1,   250,   275,     1,     1,     1,    71,     1,     1,     1,   110,   148,   240,     1,     1,     1,     1,   264,     1,     1,     1,   219,   285,    69,     1,     1,   174,   255,     1,     1,     1,   135,     1,     1,     1,     1,     1,     1,    16,     1,   248,     1,   237,     1,    99,   308,     1,     1,     1,   123,     1,     1,     2,     1,   188,     1,     1,    92,   300,     1,     1,     1,    75,     1,     1,   270,     1,     1,   235,     1,    81,     1,     1,     1,     1,   239,    50,     1,     1,   272,     1,     1,     1,     1,     1,     1,     1,   273,   318,     1,     1,   151,     1,     1,     1,     1,     1,     1,   213,     1,    77,     1,     1,   147,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,   294,     1,     1,     1,     1,   344,     1,     1,     1,   136,     1,   234,     1,   143,    19,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,   228,     1,     1,     1,     1,   374,     1,     1,     1,   320,     1,     1,   127,     1,     1,     1,   316,     1,     1,     1,     1,   315,     1,     1,   236,     1,     1,     1,     1,     1,     1,     1,     1,   120,     1,     1,   159,   388,    35,     1,   126,     1,     1,     1,   292,     1,   352,     1,   367,     1,   249,     1,   335,     1,     1,     1,     1,     1,     1,   286,     1,     1,     1,     1,   364,     1,     1,   391,   291,   266,     1,    56,    57,     1,    99,     1,   369,     1,     1,     1,     1,     1,     1,     1,   184,    68,     1,     1,     1,     1,     1,     1,   358,     1,     1,    48,   427,     1,     1,   406,   232,     1,     1,     1,    46,     1,     1,     1,   124,   336,     1,     1,     1,   347,    18,     1,   305,     1,     1,   245,     1,     1,     1,   215,     1,     1,     1,     1,     1,     1,     1,    30,     1,     1,     1,     1,   317,   197,   331,   401,     1,   398,     1,     1,     1,     1,     1,   433,   356,   349,     6,     1,     1,   360,     1,     1,   276,     1,   312,     1,   378,   303,    10,    49,     1,     1,   233,   262,   238,    94,     1,   430,     1,   153,     1,     1,     1,     1,     1,     1,     1,   104,   340,     1,     1,     1,     1,   424,     1,     1,     1,     1,   206,   269,     1,     1,     1,     1,     1,     1,     1,     1,    61,     1,     1,     1,     1,     1,     1,   343,     1,     1,   105,   448,   222,     1,     1,   290,     1,     1,     1,     1,     1,     1,   370,     1,     1,     1,     1,   103,   366,   377,     1,    90,     1,   411,    55,     1,   205,   278,   223,     1,     2,     1,   456,     1,     1,   329,     1,     1,     1,   422,     1,     1,     1,     1,     1,   257,   396,    30,     1,     1,   231,   191,    21,     1,     1,     1,     1,   306,     1,   428,     1,   111,   256,     1,   407,     1,     1,     1,   321,     1,     1,     1,     1,     1,     1,     1,     1,    34,   227,    20,     1,   334,   236,     1,   376,   235,     1,     1,     1,   299,     1,     1,   395,   209,     1,   323,     1,     1,   226,     1,     1,     1,    17,     1,     1,   177,    37,   247,   453,     1,     1,     1,   409,   259,     1,     1,   296,     1,   517,     1,     1,     1,     1,     1,   288,     1,   309,     1,    78,     1,     1,     1,     1,     1,   461,     1,     1,    68,     1,     1,     1,     1,   519,     1,     1,     1,     1,   202,     1,     1,     1,     1,   179,     1,     1,     1,   533,    24,   446,     1,   304,     1,     1,     1,     1,     1,    48,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,   216,   515,     1,     1,   322,   497,     1,     1,     1,     1,   105,   513,     1,   383,     1,     1,   580,     1,    62,     1,     1,     1,    80,     1,     1,   444,     1,     1,     1,     1,    23,    95,   154,   555,     1,   389,   439,    29,     1,   485,   265,   512,     1,   438,     1,     1,   244,     1,     1,    78,     1,     1,     1,     1,   464,     1,   416,   283,   137,   165,     1,   152,     1,     1,     1,   252,     1,     1,     1,     1,     1,   160,   496,     1,     1,     1,     1,     1,     1,    25,     1,     1,   550,   420,     1,     1,     1,   337,   538,     1,   210,     1,     1,   155,     1,     1,   243,     1,   544,     1,     1,   247,     1,     1,     1,     1,     1,   245,     1,     1,     1,     1,     1,     1,   221,     1,   607,   274,     1,   599,     1,   596,     1,     1,   415,   445,     1,    10,     1,     1,   452,     1,     1,     1,     1,     1,   451,     1,     1,     1,   345,   339,   476,   284,   457,     1,     1,     1,     1,     1,     1,   157,   612,     1,   402,     1,    71,   413,   484,     1,   436,    83,   348,     1,   543,     1,     1,     1,     1,   617,     1,     1,     1,   134,     1,     1,     1,   631,    98,     1,    86,     1,     1,   264,   350,     1,   354,     1,     1,   361,     1,   493,   330,     1,     1,     1,     1,     1,     1,   608,   272,     1,     1,   600,     1,     1,     1,   282,     1,     1,     1,   385,     1,   585,    22,     1,     1,     1,     1,   431,     1,     1,    21,     1,     1,     1,     1,   104,     1,   498,     1,     1,     1,   182,     1,     1,     1,     1,   567,   390,     1,   471,    60,     1,     1,   577,   625,     1,     1,     1,     1,     1,     1,     1,     1,   384,     1,     1,     1,     9,   469,     1,     1,     1,    52,     1,     1,     1,     1,     1,     1,     1,     1,   189,   187,     1,     1,     1,     1,     1,     1,     1,   313,   479,     1,     1,     1,     1,    63,     1,     1,   279,   180,     1,     1,   686,     1,     1,     1,   640,     1,   682,     1,    58,   598,     1,     1,     1,   391,     1,     1,   622,   167,     1,     1,   646,     1,    57,   663,     1,     1,     1,     1,   665,   557,     1,     1,     1,     1,     1,   690,   648,     1,     1,   392,     1,     1,   281,   175,     1,     1,     1,     1,     1,     1,   591,   163,   637,   327,   704,     1,     1,     1,   632,     1,   680,     1,   679,   351,   263,   365,     1,     1,     1,   435,     1,   728,    41,     3,     1,     1,   507,     1,     1,     1,     1,   613,     1,     1,   238,    51,     1,     1,     1,     1,     1,   545,     1,   258,     1,   611,    94,     1,     1,     1,   572,     1,     1,     1,     1,   621,     1,     1,     1,     1,     1,     1,     1,   221,   671,     1,   429,   449,     1,   698,   556,     1,   721,     1,     1,     1,   661,     1,   541,     1,   718,    11,     1,     1,     1,   434,   696,   707,     1,     1,     1,     1,   181,     1,     1,     1,     1,     1,     1,   260,     1,     1,     1,   224,     1,     1,     1,     1,   669,   359,   565,     1,     1,     1,   185,   744,     1,     1,     1,     1,   569,    26,     1,     1,     1,     1,   745,     1,     1,   338,   328,     1,     1,     1,     1,     1,     1,     1,   183,   563,     1,     1,   388,   504,     1,   214,     1,   100,   653,   635,   297,     1,   418,     1,   173,     1,   429,     1,   140,     1,   486,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,   109,   440,     1,     1,     1,   101,     1,   442,     1,   782,     1,   186,   605,   266,     1,     1,   162,   652,   766,     1,     1,   495,     1,     1,   125,     1,   523,     1,   200,     1,     1,   241,     1,     1,     1,    70,     1,   642,     1,     1,     1,     1,     1,     1,     1,   783,     1,     1,   375,     1,     1,     1,     1,     1,   650,     1,     1,   516,     1,     1,   802,     1,     1,     1,     1,     1,   425,     1,   372,     1,   246,     1,     1,     1,     1,    41,     7,   121,     1,     1,     1,     1,     1,     1,     1,     1,   794,     1,     1,     1,     1,   324,   184,     1,     1,     1,     1,     1,     1,   578,     1,     1,     1,     1,   410,     1,     1,     1,     1,     1,     1,   711,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,   554,     1,     1,     1,     1,     1,     1,     1,     1,   662,     1,     1,     1,     1,     1,     1,     1,     1,     1,   659,     1,     1,   861,     1,   181,   346,     1,     1,     1,     1,     1,   841,     1,     1,     1,   534,     1,     1,   362,     1,     1,   215,     1,   102,   859,     1,     1,     1,     1,   480,     1,   336,     1,    16,     1,   302,     1,     1,     1,   170,     1,    87,   595,   651,     1,     1,   481,   570,     1,     1,     1,     1,   332,     1,     1,     1,   884,     1,     1,     1,     1,     1,     1,   530,   817,     1,     1,     1,     1,     1,     1,   160,     1,     1,     1,     1,     1,     1,     1,   860,     1,     1,   778,   872,     1,     1,     1,     1,     1,   508,     1,   896,     1,     1,     1,     1,     1,     1,   112,     1,     1,   192,     1,    23,     1,   901,     1,   927,     1,     1,     1,     1,   815,   797,     1,   899,   371,     1,     1,     1,     1,     1,     1,   143,     1,     1,     1,     1,     1,   475,     1,     1,     1,     1,   566,     1,     1,   342,     1,   820,     1,   666,   871,     1,     1,     1,     1,   455,   836,   775,     1,     1,     1,     1,   268,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,   834,   123,     1,   934,     1,     1,     1,   878,     1,     1,     1,   849,   910,   150,     1,   582,   909,     1,     1,     1,   176,   922,     1,     1,     1,     1,     1,     1,     1,     1,   100,   423,     1,     1,     1,   597,     1,   905,     1,     1,   217,     1,    92,   756,     1,     1,   614,   153,   172,     1,     1,     1,     1,   746,   267,     1,     1,     1,     1,     1,   919,     1,     1,     1,     1,     1,    89,   784,     1,     1,     1,     1,     1,     1,     1,    67,     1,     1,     1,   256,    18,   121,     1,   552,     1,     1,   187,    64,     1,     1,     1,     1,     1,     1,     1,     1,   655,     1,    93,     1,     1,     1,   776,     1,     1,     1,     1,     1,   412,     1,     1,     1,     1,     1,    50,     1,   161,     1,  1014,     1,   271,   458,     1,     1,     1,     1,     1,     1,   747,     1,     1,   535,     1,     1,     1,     1,     1,     1,   229,    49,     1,     1,     1,     1,     1,   382,   865,     1,     1,   966,   301,     1,     1,     1,   330,     1};
int req_cmd[REQ_N]={     2,     2,     3,     2,     3,     3,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     3,     2,     3,     3,     2,     2,     3,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     3,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     3,     3,     3,     2,     3,     2,     2,     3,     2,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     3,     3,     2,     2,     3,     2,     2,     3,     3,     2,     3,     2,     3,     3,     2,     3,     3,     2,     3,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     3,     3,     3,     2,     2,     2,     3,     2,     3,     3,     3,     3,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     3,     2,     3,     3,     2,     2,     2,     3,     2,     2,     2,     3,     3,     3,     2,     3,     2,     3,     2,     2,     2,     2,     2,     2,     3,     3,     2,     3,     3,     3,     3,     2,     2,     2,     2,     3,     2,     2,     3,     2,     3,     3,     2,     2,     2,     2,     2,     2,     2,     2,     3,     3,     3,     3,     3,     2,     3,     2,     3,     3,     2,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     3,     2,     3,     2,     3,     3,     3,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     3,     2,     3,     2,     2,     2,     3,     2,     3,     2,     2,     3,     3,     2,     2,     2,     3,     3,     2,     2,     3,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     3,     3,     2,     2,     3,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     3,     2,     2,     2,     3,     2,     2,     3,     2,     2,     2,     2,     2,     2,     3,     2,     3,     3,     2,     3,     3,     2,     3,     2,     3,     2,     2,     3,     2,     2,     2,     2,     2,     3,     2,     2,     2,     3,     2,     2,     2,     2,     2,     3,     2,     3,     3,     2,     2,     2,     2,     3,     2,     2,     2,     3,     2,     2,     2,     3,     3,     2,     3,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     3,     3,     3,     2,     2,     3,     3,     2,     3,     3,     2,     2,     3,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     3,     2,     2,     3,     2,     2,     2,     3,     2,     2,     3,     3,     2,     2,     2,     3,     2,     2,     2,     3,     3,     3,     2,     2,     2,     2,     3,     2,     2,     2,     3,     3,     3,     2,     2,     3,     3,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     3,     2,     3,     2,     3,     2,     3,     3,     2,     2,     2,     3,     2,     2,     3,     2,     3,     2,     2,     3,     3,     2,     2,     2,     3,     2,     2,     3,     2,     2,     3,     2,     3,     2,     2,     2,     2,     3,     3,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     3,     2,     2,     2,     2,     2,     2,     3,     2,     3,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     3,     2,     2,     2,     3,     2,     3,     2,     3,     3,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     3,     2,     2,     2,     3,     2,     2,     3,     2,     2,     2,     3,     2,     2,     2,     2,     3,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     3,     3,     3,     2,     3,     2,     2,     2,     3,     2,     3,     2,     3,     2,     3,     2,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     3,     2,     2,     3,     3,     3,     2,     3,     3,     2,     3,     2,     3,     2,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     3,     3,     2,     2,     3,     3,     2,     2,     2,     3,     2,     2,     2,     3,     3,     2,     2,     2,     3,     3,     2,     3,     2,     2,     3,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     3,     3,     3,     3,     2,     3,     2,     2,     2,     2,     2,     3,     3,     3,     3,     2,     2,     3,     2,     2,     3,     2,     3,     2,     3,     3,     3,     3,     2,     2,     3,     3,     3,     3,     2,     3,     2,     3,     2,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     3,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     3,     3,     3,     2,     2,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     3,     3,     3,     2,     3,     2,     3,     3,     2,     3,     3,     3,     2,     3,     2,     3,     2,     2,     3,     2,     2,     2,     3,     2,     2,     2,     2,     2,     3,     3,     3,     2,     2,     3,     3,     3,     2,     2,     2,     2,     3,     2,     3,     2,     3,     3,     2,     3,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     3,     3,     3,     2,     3,     3,     2,     3,     3,     2,     2,     2,     3,     2,     2,     3,     3,     2,     3,     2,     2,     3,     2,     2,     2,     3,     2,     2,     3,     3,     3,     3,     2,     2,     2,     3,     3,     2,     2,     3,     2,     3,     2,     2,     2,     2,     2,     3,     2,     3,     2,     3,     2,     2,     2,     2,     2,     3,     2,     2,     3,     2,     2,     2,     2,     3,     2,     2,     2,     2,     3,     2,     2,     2,     2,     3,     2,     2,     2,     3,     3,     3,     2,     3,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     3,     3,     2,     2,     2,     2,     3,     3,     2,     3,     2,     2,     3,     2,     3,     2,     2,     2,     3,     2,     2,     3,     2,     2,     2,     2,     3,     3,     3,     3,     2,     3,     3,     3,     2,     3,     3,     3,     2,     3,     2,     2,     3,     2,     2,     3,     2,     2,     2,     3,     3,     2,     3,     3,     3,     3,     2,     3,     2,     2,     2,     3,     2,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     3,     3,     2,     2,     2,     3,     3,     2,     3,     2,     2,     3,     2,     2,     3,     2,     3,     2,     2,     3,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     3,     2,     3,     3,     2,     3,     2,     3,     2,     2,     3,     3,     2,     3,     2,     2,     3,     2,     2,     2,     2,     2,     3,     2,     2,     2,     3,     3,     3,     3,     3,     2,     2,     2,     2,     2,     2,     3,     3,     2,     3,     2,     3,     3,     3,     2,     3,     3,     3,     2,     3,     2,     2,     2,     2,     3,     2,     2,     2,     3,     2,     2,     2,     3,     3,     2,     3,     2,     2,     3,     3,     2,     3,     2,     2,     3,     2,     3,     3,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     3,     2,     2,     2,     3,     2,     2,     2,     3,     2,     3,     3,     2,     2,     2,     2,     3,     2,     2,     3,     2,     2,     2,     2,     3,     2,     3,     2,     2,     2,     3,     2,     2,     2,     2,     3,     3,     2,     3,     3,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     3,     3,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     3,     2,     2,     3,     3,     2,     2,     3,     2,     2,     2,     3,     2,     3,     2,     3,     3,     2,     2,     2,     3,     2,     2,     3,     3,     2,     2,     3,     2,     3,     3,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     3,     3,     2,     2,     3,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     3,     3,     3,     3,     3,     2,     2,     2,     3,     2,     3,     2,     3,     3,     3,     3,     2,     2,     2,     3,     2,     3,     3,     3,     2,     2,     3,     2,     2,     2,     2,     3,     2,     2,     3,     3,     2,     2,     2,     2,     2,     3,     2,     3,     2,     3,     3,     2,     2,     2,     3,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     3,     3,     2,     3,     3,     2,     3,     3,     2,     3,     2,     2,     2,     3,     2,     3,     2,     3,     3,     2,     2,     2,     3,     3,     3,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     3,     2,     2,     2,     2,     3,     3,     3,     2,     2,     2,     3,     3,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     3,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     3,     3,     2,     3,     2,     3,     3,     3,     3,     2,     3,     2,     3,     2,     3,     2,     3,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     2,     3,     2,     3,     2,     3,     2,     3,     3,     3,     2,     2,     3,     3,     3,     2,     2,     3,     2,     2,     3,     2,     3,     2,     3,     2,     2,     3,     2,     2,     2,     3,     2,     3,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     3,     2,     2,     2,     2,     2,     3,     2,     2,     3,     2,     2,     3,     2,     2,     2,     2,     2,     3,     2,     3,     2,     3,     2,     2,     2,     2,     3,     3,     3,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     3,     2,     3,     3,     2,     2,     2,     2,     2,     3,     2,     2,     2,     3,     2,     2,     3,     2,     2,     3,     2,     3,     3,     2,     2,     2,     2,     3,     2,     3,     2,     3,     2,     3,     2,     2,     2,     3,     2,     3,     3,     3,     2,     2,     3,     3,     2,     2,     2,     2,     3,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     3,     3,     2,     2,     2,     2,     2,     3,     2,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     3,     2,     3,     2,     3,     2,     3,     2,     2,     2,     2,     3,     3,     2,     3,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     3,     2,     2,     3,     2,     3,     2,     3,     3,     2,     2,     2,     2,     3,     3,     3,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,     3,     3,     2,     3,     2,     2,     2,     3,     2,     2,     2,     3,     3,     3,     2,     3,     3,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     2,     3,     2,     3,     2,     2,     3,     2,     3,     3,     2,     2,     3,     3,     3,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     2,     3,     2,     2,     2,     3,     3,     3,     2,     3,     2,     2,     3,     3,     2,     2,     2,     2,     2,     2,     2,     2,     3,     2,     3,     2,     2,     2,     3,     2,     2,     2,     2,     2,     3,     2,     2,     2,     2,     2,     3,     2,     3,     2,     3,     2,     3,     3,     2,     2,     2,     2,     2,     2,     3,     2,     2,     3,     2,     2,     2,     2,     2,     2,     3,     3,     2,     2,     2,     2,     2,     3,     3,     2,     2,     3,     3,     2,     2,     2,     3,     2};
int req_size[REQ_N]={     0,     0,     1,     0,     1,     1,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     1,     0,     1,     1,     0,     0,     1,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     1,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     1,     1,     1,     0,     1,     0,     0,     1,     0,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     1,     1,     0,     0,     1,     0,     0,     1,     1,     0,     1,     0,     1,     1,     0,     1,     1,     0,     1,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     1,     1,     1,     0,     0,     0,     1,     0,     1,     1,     1,     1,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     1,     0,     1,     1,     0,     0,     0,     1,     0,     0,     0,     1,     1,     1,     0,     1,     0,     1,     0,     0,     0,     0,     0,     0,     1,     1,     0,     1,     1,     1,     1,     0,     0,     0,     0,     1,     0,     0,     1,     0,     1,     1,     0,     0,     0,     0,     0,     0,     0,     0,     1,     1,     1,     1,     1,     0,     1,     0,     1,     1,     0,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     1,     0,     1,     0,     1,     1,     1,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     1,     0,     1,     0,     0,     0,     1,     0,     1,     0,     0,     1,     1,     0,     0,     0,     1,     1,     0,     0,     1,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     1,     1,     0,     0,     1,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     1,     0,     0,     0,     1,     0,     0,     1,     0,     0,     0,     0,     0,     0,     1,     0,     1,     1,     0,     1,     1,     0,     1,     0,     1,     0,     0,     1,     0,     0,     0,     0,     0,     1,     0,     0,     0,     1,     0,     0,     0,     0,     0,     1,     0,     1,     1,     0,     0,     0,     0,     1,     0,     0,     0,     1,     0,     0,     0,     1,     1,     0,     1,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     1,     1,     1,     0,     0,     1,     1,     0,     1,     1,     0,     0,     1,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     1,     0,     0,     1,     0,     0,     0,     1,     0,     0,     1,     1,     0,     0,     0,     1,     0,     0,     0,     1,     1,     1,     0,     0,     0,     0,     1,     0,     0,     0,     1,     1,     1,     0,     0,     1,     1,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     1,     0,     1,     0,     1,     0,     1,     1,     0,     0,     0,     1,     0,     0,     1,     0,     1,     0,     0,     1,     1,     0,     0,     0,     1,     0,     0,     1,     0,     0,     1,     0,     1,     0,     0,     0,     0,     1,     1,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     1,     0,     0,     0,     0,     0,     0,     1,     0,     1,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     1,     0,     0,     0,     1,     0,     1,     0,     1,     1,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     1,     0,     0,     0,     1,     0,     0,     1,     0,     0,     0,     1,     0,     0,     0,     0,     1,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     1,     1,     1,     0,     1,     0,     0,     0,     1,     0,     1,     0,     1,     0,     1,     0,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     1,     0,     0,     1,     1,     1,     0,     1,     1,     0,     1,     0,     1,     0,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     1,     1,     0,     0,     1,     1,     0,     0,     0,     1,     0,     0,     0,     1,     1,     0,     0,     0,     1,     1,     0,     1,     0,     0,     1,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     1,     1,     1,     1,     0,     1,     0,     0,     0,     0,     0,     1,     1,     1,     1,     0,     0,     1,     0,     0,     1,     0,     1,     0,     1,     1,     1,     1,     0,     0,     1,     1,     1,     1,     0,     1,     0,     1,     0,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     1,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     1,     1,     1,     0,     0,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     1,     1,     1,     0,     1,     0,     1,     1,     0,     1,     1,     1,     0,     1,     0,     1,     0,     0,     1,     0,     0,     0,     1,     0,     0,     0,     0,     0,     1,     1,     1,     0,     0,     1,     1,     1,     0,     0,     0,     0,     1,     0,     1,     0,     1,     1,     0,     1,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     1,     1,     1,     0,     1,     1,     0,     1,     1,     0,     0,     0,     1,     0,     0,     1,     1,     0,     1,     0,     0,     1,     0,     0,     0,     1,     0,     0,     1,     1,     1,     1,     0,     0,     0,     1,     1,     0,     0,     1,     0,     1,     0,     0,     0,     0,     0,     1,     0,     1,     0,     1,     0,     0,     0,     0,     0,     1,     0,     0,     1,     0,     0,     0,     0,     1,     0,     0,     0,     0,     1,     0,     0,     0,     0,     1,     0,     0,     0,     1,     1,     1,     0,     1,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     1,     1,     0,     0,     0,     0,     1,     1,     0,     1,     0,     0,     1,     0,     1,     0,     0,     0,     1,     0,     0,     1,     0,     0,     0,     0,     1,     1,     1,     1,     0,     1,     1,     1,     0,     1,     1,     1,     0,     1,     0,     0,     1,     0,     0,     1,     0,     0,     0,     1,     1,     0,     1,     1,     1,     1,     0,     1,     0,     0,     0,     1,     0,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     1,     1,     0,     0,     0,     1,     1,     0,     1,     0,     0,     1,     0,     0,     1,     0,     1,     0,     0,     1,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     1,     0,     1,     1,     0,     1,     0,     1,     0,     0,     1,     1,     0,     1,     0,     0,     1,     0,     0,     0,     0,     0,     1,     0,     0,     0,     1,     1,     1,     1,     1,     0,     0,     0,     0,     0,     0,     1,     1,     0,     1,     0,     1,     1,     1,     0,     1,     1,     1,     0,     1,     0,     0,     0,     0,     1,     0,     0,     0,     1,     0,     0,     0,     1,     1,     0,     1,     0,     0,     1,     1,     0,     1,     0,     0,     1,     0,     1,     1,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     1,     0,     0,     0,     1,     0,     0,     0,     1,     0,     1,     1,     0,     0,     0,     0,     1,     0,     0,     1,     0,     0,     0,     0,     1,     0,     1,     0,     0,     0,     1,     0,     0,     0,     0,     1,     1,     0,     1,     1,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     1,     1,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     1,     0,     0,     1,     1,     0,     0,     1,     0,     0,     0,     1,     0,     1,     0,     1,     1,     0,     0,     0,     1,     0,     0,     1,     1,     0,     0,     1,     0,     1,     1,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     1,     1,     0,     0,     1,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     1,     1,     1,     1,     1,     0,     0,     0,     1,     0,     1,     0,     1,     1,     1,     1,     0,     0,     0,     1,     0,     1,     1,     1,     0,     0,     1,     0,     0,     0,     0,     1,     0,     0,     1,     1,     0,     0,     0,     0,     0,     1,     0,     1,     0,     1,     1,     0,     0,     0,     1,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     1,     1,     0,     1,     1,     0,     1,     1,     0,     1,     0,     0,     0,     1,     0,     1,     0,     1,     1,     0,     0,     0,     1,     1,     1,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     1,     0,     0,     0,     0,     1,     1,     1,     0,     0,     0,     1,     1,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     1,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     1,     1,     0,     1,     0,     1,     1,     1,     1,     0,     1,     0,     1,     0,     1,     0,     1,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     0,     1,     0,     1,     0,     1,     0,     1,     1,     1,     0,     0,     1,     1,     1,     0,     0,     1,     0,     0,     1,     0,     1,     0,     1,     0,     0,     1,     0,     0,     0,     1,     0,     1,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     1,     0,     0,     0,     0,     0,     1,     0,     0,     1,     0,     0,     1,     0,     0,     0,     0,     0,     1,     0,     1,     0,     1,     0,     0,     0,     0,     1,     1,     1,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     1,     0,     1,     1,     0,     0,     0,     0,     0,     1,     0,     0,     0,     1,     0,     0,     1,     0,     0,     1,     0,     1,     1,     0,     0,     0,     0,     1,     0,     1,     0,     1,     0,     1,     0,     0,     0,     1,     0,     1,     1,     1,     0,     0,     1,     1,     0,     0,     0,     0,     1,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     1,     1,     0,     0,     0,     0,     0,     1,     0,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     1,     0,     1,     0,     1,     0,     1,     0,     0,     0,     0,     1,     1,     0,     1,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     1,     0,     0,     1,     0,     1,     0,     1,     1,     0,     0,     0,     0,     1,     1,     1,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,     1,     1,     0,     1,     0,     0,     0,     1,     0,     0,     0,     1,     1,     1,     0,     1,     1,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     0,     1,     0,     1,     0,     0,     1,     0,     1,     1,     0,     0,     1,     1,     1,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     0,     1,     0,     0,     0,     1,     1,     1,     0,     1,     0,     0,     1,     1,     0,     0,     0,     0,     0,     0,     0,     0,     1,     0,     1,     0,     0,     0,     1,     0,     0,     0,     0,     0,     1,     0,     0,     0,     0,     0,     1,     0,     1,     0,     1,     0,     1,     1,     0,     0,     0,     0,     0,     0,     1,     0,     0,     1,     0,     0,     0,     0,     0,     0,     1,     1,     0,     0,     0,     0,     0,     1,     1,     0,     0,     1,     1,     0,     0,     0,     1,     0};

volatile int checkKWTA_mini4(//volatile int *size, volatile int *cmd,
		volatile allocator_port *alloc_1)
{
//#pragma HLS interface ap_hs port=size
//#pragma HLS interface ap_hs port=cmd
#pragma HLS interface ap_hs port=alloc_1

	int i,r;
	int cmd,size;
	for (i=0;;i++)
	{
		cmd = req_cmd[i];
		size = req_list[i];
		if ((cmd) == 2)
		{
			r=HLS_malloc<1>(size,alloc_1);
		}
		else if ((cmd) == 3)
		{

			r=HLS_free<1>(size,req_size[i],alloc_1);
		}
		else if ((cmd) == 0) break;
	}
	return r;
}

int main()
{
	int acc_IO[3000]; acc_IO[0]=0;acc_IO[3]=11;
	int alloc_1[100],alloc_2[100],alloc_3[100],alloc_4[100],alloc_5[100];
	//acc_OS(1,2,3,4,5,alloc_1,alloc_2,alloc_3,alloc_4,alloc_5);
	int i;
	for (i=0;i<2000;i+=10) printf("%d ",acc_IO[i]);
	return 0;
}
